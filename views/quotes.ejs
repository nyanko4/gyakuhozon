<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>引用一覧</title>
</head>
<body>
  <h1>引用一覧</h1>
  <% quotes.forEach(quote => { %>
    <div style="border:1px solid #ccc; padding:10px; margin:10px;">
      <p><strong><%= quote.name %></strong>（<%= quote.aid %>）</p>
      <p><%= quote.formattedTime %></p>
      <pre><%= quote.message %></pre>
      <button onclick="copyToClipboard(`[qtmeta][meta aid=<%= quote.aid %> time=<%= quote.time %>]<%= quote.message %>[/meta]`)">コピー</button>
    </div>
  <% }) %>

  <script>
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert("コピーしました！");
      }).catch(err => {
        alert("コピーに失敗しました");
      });
    }
  </script>
</body>
</html>
